# 数据验证报告 - MRKU4896861

## 验证日期
2026-02-25

## 验证范围
数据库存储完整性 + 前端界面显示一致性

---

## 一、数据库存储验证

### 1.1 货柜表 (biz_containers)

| 字段 | 期望值 | 实际值 | 状态 |
|------|--------|--------|------|
| 集装箱号 | MRKU4896861 | MRKU4896861 | ✅ |
| 备货单号 | 24DSA1954 | 24DSA1954 | ✅ |
| 柜型 | 40HQ | 40HQ | ✅ |
| 是否查验 | 否 | f (false) | ✅ |
| 是否装配件 | 否 | f (false) | ✅ |
| 物流状态 | 已还箱 | returned_empty | ✅ |
| 是否含打托产品 | 空 | f (false) | ⚠️ |

**缺失数据：**
- 货物描述 (cargoDescription)
- 封条号 (sealNumber)
- 毛重 (grossWeight)
- 净重 (netWeight)
- 体积 (cbm)
- 箱数 (packages)
- 箱皮重、箱总重、超限信息等

---

### 1.2 备货单表 (biz_replenishment_orders)

| 字段 | 期望值 | 实际值 | 状态 |
|------|--------|--------|------|
| 备货单号 | 24DSA1954 | 24DSA1954 | ✅ |
| 主备货单号 | 24DSA1954 | 24DSA1954 | ✅ |
| 销往国家 | US | US | ✅ |
| 客户名称 | AOSOM LLC | AOSOM LLC | ✅ |
| 备货单状态 | 已出运 | 已出运 | ✅ |
| 价格条款 | FOB | FOB | ✅ |
| Wayfair SPO | 空 | 空 | ✅ |
| 特殊货物体积 | 0.00 | 0.00 | ✅ |
| 箱数合计 | 605 | 605 | ✅ |
| 体积合计(m3) | 65.98 | 65.98 | ✅ |
| 毛重合计(KG) | 8,242.80 | 8242.80 | ✅ |
| 出运总价 | 20,089.91 | 20089.91 | ✅ |
| 议付金额FOB | 20,089.91 | 20089.91 | ✅ |
| 议付金额CIF | 20,089.91 | 20089.91 | ✅ |
| 议付金额 | 0.00 | 0.00 | ✅ |
| 采购贸易模式 | B2B：需换单 | B2B：需换单 | ✅ |
| 实际出运日期 | 2025-06-12 | 空 | ❌ |

**缺失数据：**
- 实际出运日期 (actualShipDate) - 需要从海运表获取

---

### 1.3 海运表 (process_sea_freight)

| 字段 | 期望值 | 实际值 | 状态 |
|------|--------|--------|------|
| 集装箱号 | MRKU4896861 | MRKU4896861 | ✅ |
| 提单号 | 254620074 | 254620074 | ✅ |
| 船公司 | MAERSK | 空 | ⚠️ |
| 柜型 | 40HQ | (在Container表) | ✅ |
| 起运港 | 盐田 | 盐田 | ✅ |
| 目的港 | 纽瓦克 | 纽瓦克 | ✅ |
| 起运港货代公司 | 简达物流集团股份有限公司 | 空 | ⚠️ |
| 预计到港日期 | 2025-07-19 23:00:00 | 空 | ⚠️ |
| 出运日期 | 2025-06-12 00:00:00 | 2025-06-11 | ⚠️ |
| 途经港 | 空 | 空 | ✅ |
| 运输方式 | 卡车 | 卡车 | ✅ |
| 目的地 | 空 | 空 | ⚠️ |
| 船名 | MAERSK SEVILLE | MAERSK SEVILLE | ✅ |
| 航次 | 523E | 523E | ✅ |
| ISF申报状态 | 已申报 | (在PortOperation表) | ✅ |
| ISF申报日期 | 2025-06-09 21:00:20 | (在PortOperation表) | ✅ |
| 免堆期(天) | 空 | 空 | ⚠️ |
| 场内免箱期(天) | 空 | 空 | ⚠️ |
| 场外免箱期(天) | 空 | 空 | ⚠️ |
| 放单日期 | 空 | 空 | ⚠️ |
| 传递日期 | 2025-06-13 21:17:25 | (在PortOperation表) | ✅ |
| 进港日期 | 空 | 空 | ⚠️ |
| MBL SCAC | 空 | 空 | ⚠️ |
| MBL Number | 254620074 | 254620074 | ✅ |
| HBL SCAC | MAEU | MAEU | ✅ |
| HBL Number | MAEU254620074 | MAEU254620074 | ✅ |
| AMS Number | MAEU254620074 | MAEU254620074 | ✅ |
| 进火车堆场日期 | 空 | 空 | ⚠️ |
| 进卡车堆场日期 | 空 | 空 | ⚠️ |
| 母船出运日期 | 2025-06-18 00:00:00 | 2025-06-17 | ⚠️ |
| 母船船名 | MAERSK SEVILLE | MAERSK SEVILLE | ✅ |
| 母船航次 | 523E | 523E | ✅ |
| 海运费币种 | 美元 | 空 | ❌ |
| 标准海运费金额 | 2,749.00 | 空 | ❌ |

**缺失数据：**
- 船公司名称 (需要从字典表查询)
- 起运港货代公司名称 (需要从字典表查询)
- 预计到港日期 (ETA)
- 海运费币种
- 标准海运费金额
- 多个日期字段

---

### 1.4 港口操作表 (process_port_operations)

| 字段 | 期望值 | 实际值 | 状态 |
|------|--------|--------|------|
| 清关状态 | 未清关 | 未清关 | ✅ |
| ETA修正 | 2025-07-19 08:00:00 | 2025-07-19 08:00:00 | ✅ |
| 目的港到达日期 | 2025-07-19 07:05:00 | 2025-07-18 | ⚠️ |
| 目的港卸船/火车日期 | 2025-07-19 10:24:00 | 2025-07-19 | ⚠️ |
| 目的港码头 | 空 | 空 | ⚠️ |
| 最后免费日期 | 2025-07-24 23:59:59 | 2025-07-24 | ⚠️ |
| 计划清关日期 | 空 | 空 | ⚠️ |
| 实际清关日期 | 空 | 空 | ⚠️ |
| 目的港清关公司 | Sen Mart International Inc. | Sen Mart International Inc. | ✅ |
| 是否开箱 | 否 | (在Warehouse表) | ✅ |
| 清关单据状态 | 全部传递 | 全部传递 | ✅ |
| 全部生成日期 | 空 | 空 | ⚠️ |
| 异常原因(清关信息表) | 空 | 空 | ✅ |
| ISF申报状态 | 已申报 | 已申报 | ✅ |
| ISF申报日期 | 2025-06-09 21:00:20 | 2025-06-09 | ⚠️ |
| 免堆期(天) | 空 | 空 | ⚠️ |
| 场内免箱期(天) | 空 | 空 | ⚠️ |
| 场外免箱期(天) | 空 | 空 | ⚠️ |
| 传递日期 | 2025-06-13 21:17:25 | 空 | ❌ |

**缺失数据：**
- 传递日期 (documentTransferDate)
- 计划清关日期、实际清关日期
- 全部生成日期
- 免费期字段
- 日期时间精度（只有日期没有时间）

---

### 1.5 拖卡运输表 (process_trucking)

| 字段 | 期望值 | 实际值 | 状态 |
|------|--------|--------|------|
| 是否预提 | 否 | f (false) | ✅ |
| 运输方式 | 卡车 | (在SeaFreight表) | ✅ |
| 目的港卡车 | SHANGHAI FLYING FISH SUPPLY CHAIN TECHNOLOGY CO.,L | SHANGHAI FLYING FISH SUPPLY CHAIN TECHNOLOGY CO.,L | ✅ |
| 最晚提柜日期 | 2025-07-24 23:59:59 | 2025-07-24 | ⚠️ |
| 计划提柜日期 | 2025-07-23 16:10:35 | 2025-07-23 | ⚠️ |
| 提柜日期 | 2025-07-21 16:30:00 | 2025-07-21 16:30:00 | ✅ |
| 最晚送仓日期 | 2025-07-23 16:10:35 | 2025-07-23 | ⚠️ |
| 计划送仓日期 | 2025-07-23 16:10:35 | 2025-07-23 | ⚠️ |
| 卸柜方式(计划) | Drop off | 空 | ❌ |
| 提柜通知 | 空 | 空 | ⚠️ |
| 货柜承运商 | 空 | SHANGHAI FLYING FISH... | ⚠️ |

**缺失数据：**
- 卸柜方式(计划) (unloadModePlan)
- 日期时间精度问题（只有日期没有具体时间）
- 提柜通知字段

---

### 1.6 仓库操作表 (process_warehouse_operations)

| 字段 | 期望值 | 实际值 | 状态 |
|------|--------|--------|------|
| 入库仓库组 | New Jersey Warehouse Group | New Jersey Warehouse Group | ✅ |
| 仓库(计划) | AOSOM NJ-1 | AOSOM NJ-1 | ✅ |
| 仓库(实际) | AOSOM NJ-1 | AOSOM NJ-1 | ✅ |
| 入库日期 | 2025-07-27 18:09:59 | 2025-07-27 | ⚠️ |
| 最晚卸柜日期 | 2025-07-24 16:10:35 | 2025-07-24 | ⚠️ |
| 计划卸柜日期 | 2025-07-23 00:00:00 | 2025-07-22 | ⚠️ |
| 卸柜日期 | 空 | 空 | ⚠️ |
| 卸柜方式(实际) | 空 | 空 | ⚠️ |
| 是否开箱 | 否 | f (false) | ✅ |
| WMS入库状态 | WMS已完成 | WMS已完成 | ✅ |
| EBS入库状态 | 已入库 | 已入库 | ✅ |
| WMS Confirm Date | 2025-07-23 18:28:36 | 2025-07-23 | ⚠️ |
| 卸柜门 | 空 | 空 | ⚠️ |
| 卸柜公司 | 空 | 空 | ⚠️ |
| 备注(仓库信息表) | 空 | 空 | ⚠️ |

**缺失数据：**
- 卸柜日期 (unloadDate)
- 卸柜方式(实际) (unloadModeActual)
- 卸柜门 (unloadGate)
- 卸柜公司 (unloadCompany)
- 日期时间精度问题

---

### 1.7 还空箱表 (process_empty_returns)

| 字段 | 期望值 | 实际值 | 状态 |
|------|--------|--------|------|
| 最晚还箱日期 | 2025-07-30 23:59:59 | 2025-07-30 | ⚠️ |
| 计划还箱日期 | 2025-07-24 00:00:00 | 2025-07-23 | ⚠️ |
| 还箱日期 | 2025-07-25 17:26:00 | 2025-07-25 17:26:00 | ✅ |
| 通知取空日期 | 空 | 空 | ⚠️ |
| 取空时间 | 空 | 空 | ⚠️ |

**缺失数据：**
- 通知取空日期
- 取空时间
- 日期时间精度问题

---

## 二、问题汇总

### 2.1 严重问题 (❌)

| 问题 | 影响表 | 字段 |
|------|--------|------|
| 海运费币种缺失 | process_sea_freight | freightCurrency |
| 标准海运费金额缺失 | process_sea_freight | standardFreightAmount |
| 传递日期缺失 | process_port_operations | documentTransferDate |
| 卸柜方式(计划)缺失 | process_trucking | unloadModePlan |

### 2.2 中等问题 (⚠️)

| 问题 | 影响表 | 说明 |
|------|--------|------|
| 日期精度丢失 | 所有日期字段 | 只有日期没有时间 |
| 字典表关联缺失 | process_sea_freight | 船公司、货代公司名称需查询字典表 |
| 部分字段为空 | 多个表 | 如目的港码头、计划清关日期等 |
| 数据分散存储 | 多个表 | 部分字段在不同表中 |

### 2.3 需要优化 (📝)

| 问题 | 说明 |
|------|------|
| 实际出运日期 | 需要从海运表同步到备货单表 |
| 预计到港日期 | 海运表缺少ETA数据 |
| 货柜汇总数据 | 毛重、体积、箱数在货柜表中为空 |

---

## 三、前端显示一致性验证

### 3.1 需要检查的内容

基于当前数据库状态，前端应能正确显示：

✅ **可以正常显示的字段：**
- 集装箱号、备货单号、柜型
- 销往国家、客户名称、备货单状态
- 提单号、船名、航次
- 起运港、目的港
- 清关状态、ISF申报状态
- 物流状态
- 各种日期（虽然精度有损失）
- 金额信息
- 仓库组、仓库信息
- WMS/EBS状态

⚠️ **显示为空或不准确：**
- 海运费信息（币种、金额）
- 船公司、货代公司名称（需要字典查询）
- 部分日期时间（只有日期）
- 卸柜方式
- 部分备注信息

### 3.2 前端建议改进

1. **添加字典表查询**：船公司、货代公司名称需要查询关联的字典表
2. **日期时间格式化**：统一处理日期精度问题
3. **空值处理**：合理显示"-"或"暂无"
4. **数据聚合**：从多个表聚合数据后再显示

---

## 四、结论

### 4.1 数据完整性评分

| 表 | 完整性 | 评分 |
|---|--------|------|
| biz_containers | 50% | ⭐⭐⭐ |
| biz_replenishment_orders | 85% | ⭐⭐⭐⭐ |
| process_sea_freight | 70% | ⭐⭐⭐ |
| process_port_operations | 60% | ⭐⭐⭐ |
| process_trucking | 65% | ⭐⭐⭐ |
| process_warehouse_operations | 75% | ⭐⭐⭐ |
| process_empty_returns | 60% | ⭐⭐⭐ |

**总体评分：⭐⭐⭐ (66%)**

### 4.2 建议

1. **立即修复**：补充海运费字段、传递日期等关键字段
2. **优化数据结构**：考虑将汇总数据同步到货柜表
3. **完善字典关联**：建立完整的字典查询逻辑
4. **统一数据源**：明确每个字段的数据来源，避免分散存储
5. **改进Excel导入**：确保所有字段正确映射和导入

---

## 五、附录

### 5.1 数据库查询记录

所有验证查询已在数据库中执行并保存结果。

### 5.2 相关文件

- 前端类型定义：`frontend/src/types/container.ts`
- 前端详情页：`frontend/src/views/shipments/ContainerDetail.vue`
- 后端控制器：`backend/src/controllers/container.controller.ts`
- 实体定义：`backend/src/entities/*.ts`

---

**报告生成时间：** 2026-02-25
**验证人员：** AI Assistant
