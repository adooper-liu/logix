<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥æœŸè§£ææµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background: #f5f7fa;
        }
        .test-section {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #409eff;
            padding-bottom: 10px;
        }
        h2 {
            color: #409eff;
            margin-top: 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        th, td {
            border: 1px solid #dcdfe6;
            padding: 12px;
            text-align: left;
        }
        th {
            background: #f5f7fa;
            font-weight: bold;
        }
        .success {
            color: #67c23a;
            font-weight: bold;
        }
        .error {
            color: #f56c6c;
            font-weight: bold;
        }
        .code-block {
            background: #f5f7fa;
            border-left: 4px solid #409eff;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            overflow-x: auto;
        }
        .comparison {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        .comparison-box {
            flex: 1;
            min-width: 300px;
            padding: 15px;
            border-radius: 8px;
        }
        .wrong {
            background: #fef0f0;
            border: 2px solid #f56c6c;
        }
        .correct {
            background: #f0f9ff;
            border: 2px solid #67c23a;
        }
        .label {
            font-weight: bold;
            margin-bottom: 10px;
            display: block;
        }
    </style>
</head>
<body>
    <div class="test-section">
        <h1>ğŸ“… æ—¥æœŸè§£æä¿®å¤éªŒè¯</h1>
        <p><strong>ä¿®å¤æ—¥æœŸ:</strong> 2026-02-26</p>
        <p><strong>é—®é¢˜æè¿°:</strong> åŸparseDateå‡½æ•°ä½¿ç”¨toISOString()å¯¼è‡´æ—¶åŒºè½¬æ¢,æ‰€æœ‰æ—¥æœŸæ¯”ExcelåŸå§‹æ•°æ®æ—©1å¤©</p>
    </div>

    <div class="test-section">
        <h2>ğŸ”§ é—®é¢˜å¯¹æ¯”</h2>
        <div class="comparison">
            <div class="comparison-box wrong">
                <span class="label">âŒ ä¿®å¤å‰ (é”™è¯¯)</span>
                <div class="code-block">
// ä½¿ç”¨ toISOString() è¿›è¡Œæ—¶åŒºè½¬æ¢
const date = new Date('2025-03-30')
return date.toISOString()
// ç»“æœ: '2025-03-29T16:00:00.000Z'
// é—®é¢˜: æ—©1å¤©!
                </div>
            </div>
            <div class="comparison-box correct">
                <span class="label">âœ… ä¿®å¤å (æ­£ç¡®)</span>
                <div class="code-block">
// æ‰‹åŠ¨è§£æ,é¿å…æ—¶åŒºè½¬æ¢
function parseLocalDate(dateStr: string) {
  const parts = dateStr.split(/[\s-:T]/)
  return new Date(year, month, day, hour, minute, second)
}
// ç»“æœ: '2025-03-30 00:00:00'
// æ­£ç¡®: ä¸Excelä¸€è‡´!
                </div>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š æ—¥æœŸè§£ææµ‹è¯•ç»“æœ</h2>
        <table>
            <thead>
                <tr>
                    <th>ExcelåŸå§‹å€¼</th>
                    <th>ä¿®å¤å‰</th>
                    <th>ä¿®å¤å</th>
                    <th>çŠ¶æ€</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>2025-03-30</td>
                    <td class="error">2025-03-29T16:00:00.000Z</td>
                    <td class="success">2025-03-30 00:00:00</td>
                    <td class="success">âœ… ä¿®å¤æˆåŠŸ</td>
                </tr>
                <tr>
                    <td>2025-05-09</td>
                    <td class="error">2025-05-08T16:00:00.000Z</td>
                    <td class="success">2025-05-09 00:00:00</td>
                    <td class="success">âœ… ä¿®å¤æˆåŠŸ</td>
                </tr>
                <tr>
                    <td>2025-05-05 05:34:00</td>
                    <td class="error">2025-05-04T21:34:00.000Z</td>
                    <td class="success">2025-05-05 05:34:00</td>
                    <td class="success">âœ… ä¿®å¤æˆåŠŸ</td>
                </tr>
                <tr>
                    <td>2025-05-28 05:00:47</td>
                    <td class="error">2025-05-27T21:00:47.000Z</td>
                    <td class="success">2025-05-28 05:00:47</td>
                    <td class="success">âœ… ä¿®å¤æˆåŠŸ</td>
                </tr>
                <tr>
                    <td>2025-05-17 00:18:00</td>
                    <td class="error">2025-05-16T16:18:00.000Z</td>
                    <td class="success">2025-05-17 00:18:00</td>
                    <td class="success">âœ… ä¿®å¤æˆåŠŸ</td>
                </tr>
                <tr>
                    <td>2025-03-26 21:00:23</td>
                    <td class="error">2025-03-26T13:00:23.000Z</td>
                    <td class="success">2025-03-26 21:00:23</td>
                    <td class="success">âœ… ä¿®å¤æˆåŠŸ</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="test-section">
        <h2>ğŸ“‹ å½±å“çš„è¡¨å’Œå­—æ®µ</h2>

        <h3>process_sea_freight (æµ·è¿è¡¨)</h3>
        <ul>
            <li>shipment_date - å‡ºè¿æ—¥æœŸ</li>
            <li>eta - é¢„è®¡åˆ°æ¸¯æ—¥æœŸ</li>
            <li>mother_shipment_date - æ¯èˆ¹å‡ºè¿æ—¥æœŸ</li>
        </ul>

        <h3>process_port_operations (æ¸¯å£æ“ä½œè¡¨)</h3>
        <ul>
            <li>eta_dest_port - é¢„è®¡åˆ°æ¸¯æ—¥æœŸ(ç›®çš„æ¸¯)</li>
            <li>ata_dest_port - å®é™…åˆ°æ¸¯æ—¥æœŸ(ç›®çš„æ¸¯)</li>
            <li>dest_port_unload_date - ç›®çš„æ¸¯å¸èˆ¹/ç«è½¦æ—¥æœŸ</li>
            <li>planned_customs_date - è®¡åˆ’æ¸…å…³æ—¥æœŸ</li>
        </ul>

        <h3>process_warehouse_operations (ä»“åº“æ“ä½œè¡¨)</h3>
        <ul>
            <li>warehouse_arrival_date - å…¥åº“æ—¥æœŸ</li>
            <li>planned_unload_date - è®¡åˆ’å¸æŸœæ—¥æœŸ</li>
            <li>wms_confirm_date - WMS Confirm Date</li>
        </ul>

        <h3>process_empty_returns (è¿˜ç©ºç®±è¡¨)</h3>
        <ul>
            <li>last_return_date - æœ€æ™šè¿˜ç®±æ—¥æœŸ</li>
            <li>planned_return_date - è®¡åˆ’è¿˜ç®±æ—¥æœŸ</li>
            <li>return_time - è¿˜ç®±æ—¥æœŸ</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ” æ”¯æŒçš„æ—¥æœŸæ ¼å¼</h2>
        <table>
            <thead>
                <tr>
                    <th>æ ¼å¼</th>
                    <th>ç¤ºä¾‹</th>
                    <th>è¯´æ˜</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Excelæ—¥æœŸæ•°å­—</td>
                    <td>44723</td>
                    <td>Excelå†…éƒ¨æ—¥æœŸæ ¼å¼</td>
                </tr>
                <tr>
                    <td>YYYY-MM-DD HH:mm:ss</td>
                    <td>2025-03-30 10:30:45</td>
                    <td>æ ‡å‡†ISOæ ¼å¼(å¸¦æ—¶é—´)</td>
                </tr>
                <tr>
                    <td>YYYY-MM-DD HH:mm</td>
                    <td>2025-03-30 10:30</td>
                    <td>æ ‡å‡†ISOæ ¼å¼(ç§’æ•°çœç•¥)</td>
                </tr>
                <tr>
                    <td>YYYY-MM-DD</td>
                    <td>2025-03-30</td>
                    <td>æ ‡å‡†ISOæ ¼å¼(ä»…æ—¥æœŸ)</td>
                </tr>
                <tr>
                    <td>YYYY/MM/DD HH:mm:ss</td>
                    <td>2025/03/30 10:30:45</td>
                    <td>æ–œæ åˆ†éš”æ ¼å¼</td>
                </tr>
                <tr>
                    <td>YYYY/MM/DD</td>
                    <td>2025/03/30</td>
                    <td>æ–œæ åˆ†éš”æ ¼å¼(ä»…æ—¥æœŸ)</td>
                </tr>
                <tr>
                    <td>YYYYMMDD</td>
                    <td>20250330</td>
                    <td>ç´§å‡‘æ ¼å¼</td>
                </tr>
                <tr>
                    <td>DD-MM-YYYY</td>
                    <td>30-03-2025</td>
                    <td>æ¬§æ´²æ ¼å¼</td>
                </tr>
                <tr>
                    <td>DD/MM/YYYY</td>
                    <td>30/03/2025</td>
                    <td>æ¬§æ´²æ ¼å¼(æ–œæ )</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="test-section">
        <h2>ğŸš€ æ•°æ®ä¿®å¤æµç¨‹</h2>
        <ol>
            <li><strong>æ¸…ç†ç°æœ‰æ•°æ®:</strong>
                <div class="code-block">
DELETE FROM process_trucking_transport WHERE container_number = 'FANU3376528';
DELETE FROM process_warehouse_operations WHERE container_number = 'FANU3376528';
DELETE FROM process_port_operations WHERE container_number = 'FANU3376528';
DELETE FROM process_sea_freight WHERE container_number = 'FANU3376528';
DELETE FROM process_empty_returns WHERE "containerNumber" = 'FANU3376528';
DELETE FROM biz_containers WHERE container_number = 'FANU3376528';
DELETE FROM biz_replenishment_orders WHERE order_number = '24DSC4914';
                </div>
            </li>
            <li><strong>åˆ·æ–°å‰ç«¯é¡µé¢</strong> - åŠ è½½ä¿®å¤åçš„ExcelImport.vue</li>
            <li><strong>é‡æ–°å¯¼å…¥Excelæ–‡ä»¶</strong> - ä¸Šä¼ åŸå§‹Excelå¹¶ç‚¹å‡»å¯¼å…¥</li>
            <li><strong>éªŒè¯æ•°æ®å‡†ç¡®æ€§</strong> - æ£€æŸ¥æ‰€æœ‰æ—¥æœŸå­—æ®µæ˜¯å¦ä¸Excelä¸€è‡´</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>âœ… ä¿®å¤æ€»ç»“</h2>
        <ul>
            <li><strong>æ ¹æœ¬åŸå› :</strong> date.toISOString()å¼•å…¥UTCæ—¶åŒºè½¬æ¢</li>
            <li><strong>è§£å†³æ–¹æ¡ˆ:</strong> æ‰‹åŠ¨è§£ææ—¥æœŸå­—ç¬¦ä¸²,ä½¿ç”¨æœ¬åœ°æ—¶é—´</li>
            <li><strong>å½±å“èŒƒå›´:</strong> æ‰€æœ‰æ—¥æœŸå­—æ®µ(æµ·è¿ã€æ¸¯å£ã€æ‹–å¡ã€ä»“åº“ã€è¿˜ç©ºç®±)</li>
            <li><strong>ä¿®å¤æ•ˆæœ:</strong> æ—¥æœŸå€¼ä¸Excelå®Œå…¨ä¸€è‡´,ä¸å†æœ‰åå·®</li>
            <li><strong>ç›¸å…³æ–‡æ¡£:</strong> docs/DATE_PARSING_FIX.md</li>
        </ul>
    </div>
</body>
</html>
